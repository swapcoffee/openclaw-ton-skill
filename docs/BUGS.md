# BUGS.md ‚Äî –ù–∞–π–¥–µ–Ω–Ω—ã–µ –±–∞–≥–∏ –∏ –ø—Ä–æ–±–ª–µ–º—ã

**–î–∞—Ç–∞:** 2026-02-13  
**–ê–≤—Ç–æ—Ä—ã:** Backend Developer #1, QA Tester

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ (—Ç—Ä–µ–±—É—é—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

### BUG-001: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö —Å—É–º–º
**–§–∞–π–ª—ã:** `transfer.py`, `swap.py`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–∫—Ä–∏–ø—Ç—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —Å—É–º–º—ã –±–µ–∑ –æ—à–∏–±–∫–∏.  
**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
```bash
python3 transfer.py -p test ton --from test --to test --amount -5
python3 swap.py -p test execute --wallet test --from TON --to USDT --amount -10
```
**–û–∂–∏–¥–∞–Ω–∏–µ:** –û—à–∏–±–∫–∞ "Amount must be positive"  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

### BUG-002: –ü—É—Å—Ç–æ–π —Ç–æ–∫–µ–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –∫–∞–∫ –≤–∞–ª–∏–¥–Ω—ã–π
**–§–∞–π–ª:** `swap.py`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –∫–∞–∫ —Ç–æ–∫–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω—É–ª–µ–≤–æ–π –∞–¥—Ä–µ—Å –≤–º–µ—Å—Ç–æ –æ—à–∏–±–∫–∏.  
**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
```bash
python3 swap.py quote --from "" --to USDT --amount 10 --wallet ADDRESS
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `"address": "0:0000000000000000000000000000000000000000000000000000000000000000"`  
**–û–∂–∏–¥–∞–Ω–∏–µ:** –û—à–∏–±–∫–∞ "Invalid input token"  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

### BUG-003: –ù–µ—á–∏—Ç–∞–µ–º–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–µ–∑–æ–ª–≤–µ –¥–æ–º–µ–Ω–∞
**–§–∞–π–ª:** `dns.py`, `transfer.py`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–∏ –æ—à–∏–±–∫–µ —Ä–µ–∑–æ–ª–≤–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—ã—Ä–æ–π JSON –≤–º–µ—Å—Ç–æ –ø–æ–Ω—è—Ç–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.  
**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
```bash
python3 transfer.py -p test ton --from test --to test --amount 1
# –í—ã–≤–æ–¥–∏—Ç: "error": "Cannot resolve recipient: {'error': \"not resolved: can't unmarshal null\"}"
```
**–û–∂–∏–¥–∞–Ω–∏–µ:** `"error": "Cannot resolve recipient: Domain not found or has no wallet"`  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

### BUG-008: –ù–µ–≤–µ—Ä–Ω—ã–π –∞–¥—Ä–µ—Å STON –≤ KNOWN_TOKENS
**–§–∞–π–ª—ã:** `dyor.py`, `swap.py`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–¥—Ä–µ—Å —Ç–æ–∫–µ–Ω–∞ STON –≤ —Å–ª–æ–≤–∞—Ä–µ KNOWN_TOKENS –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–µ "can't decode address" –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–∫–µ–Ω–µ STON.  
**–¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:**
```python
"STON": "EQA2kCVNwVsil2EM2mB0SkXytxCqWFOx9ySUfP2qVLZMSgHD"  # –ù–ï–í–ï–†–ù–û
```
**–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:**
```python
"STON": "EQA2kCVNwVsil2EM2mB0SkXytxCqQjS4mttjDpnXmwG9T6bO"  # –í–ï–†–ù–û
# Raw: 0:3690254dc15b2297610cda60744a45f2b710aa4234b89adb630e99d79b01bd4f
```
**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
```bash
python3 dyor.py info --token STON
# –û—à–∏–±–∫–∞: {"error": {"error": "can't decode address ..."}, "status_code": 400}

python3 analytics.py compare --tokens "USDT,NOT,STON"
# STON –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null –¥–∞–Ω–Ω—ã–µ
```
**–í–ª–∏—è–Ω–∏–µ:** –õ—é–±—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ç–æ–∫–µ–Ω–æ–º STON –ø–æ —Å–∏–º–≤–æ–ª—É (quote, info, compare) –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç  
**–°—Ç–∞—Ç—É—Å:** üî¥ –ù–ï –ò–°–ü–†–ê–í–õ–ï–ù–û

---

## –°—Ä–µ–¥–Ω–∏–µ –±–∞–≥–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–∏—Ç—å)

### BUG-004: –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω—É–ª–µ–≤–æ–π —Å—É–º–º—ã
**–§–∞–π–ª—ã:** `transfer.py`, `swap.py`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°—É–º–º–∞ 0 –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è.  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (–≤–º–µ—Å—Ç–µ —Å BUG-001)

---

### BUG-005: –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
**–§–∞–π–ª:** `swap.py`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–∏ –≤–≤–æ–¥–µ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–æ–∫–µ–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "INVALID_TOKEN") API –Ω–∞—Ö–æ–¥–∏—Ç —Å–ª—É—á–∞–π–Ω—ã–π –ø–æ—Ö–æ–∂–∏–π —Ç–æ–∫–µ–Ω –≤–º–µ—Å—Ç–æ –æ—à–∏–±–∫–∏.  
**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
```bash
python3 swap.py quote --from TON --to INVALID_TOKEN --amount 10 --wallet ADDRESS
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ç–∏—Ä–æ–≤–∫—É –¥–ª—è TAC —Ç–æ–∫–µ–Ω–∞
```
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ API swap.coffee, –Ω–µ –±–∞–≥ —Å–∫—Ä–∏–ø—Ç–∞. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.  
**–°—Ç–∞—Ç—É—Å:** üìù –î–û–ö–£–ú–ï–ù–¢–ò–†–û–í–ê–ù–û

---

## –ú–µ–ª–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã / —É–ª—É—á—à–µ–Ω–∏—è

### BUG-006: –°–∏–º–≤–æ–ª —Ç–æ–∫–µ–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å —é–Ω–∏–∫–æ–¥–æ–º (USD‚ÇÆ)
**–§–∞–π–ª:** `swap.py`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –í –æ—Ç–≤–µ—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "USD‚ÇÆ" –≤–º–µ—Å—Ç–æ "USDT".  
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –§—É–Ω–∫—Ü–∏—è `_normalize_symbol` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ `wallet.py`, –Ω–æ –≤ `swap.py` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

### BUG-007: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—è slippage
**–§–∞–π–ª:** `swap.py`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è slippage –∏–ª–∏ >100% –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–∫–∏.  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

### BUG-009: –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è low-risk –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0 –ø—É–ª–æ–≤
**–§–∞–π–ª:** `yield_cmd.py`  
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–∏ risk=low –ø–∞—Ä–∞–º–µ—Ç—Ä stable_pairs_only=True —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥ ‚Äî –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –ø—É–ª–æ–≤, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫—Ä–∏—Ç–µ—Ä–∏—è–º (min_tvl $1M + —Ç–æ–ª—å–∫–æ stable/stable –ø–∞—Ä—ã).  
**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
```bash
python3 yield_cmd.py recommend --risk low
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: "total_matching": 0, "recommendations": []
```
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ —Å–∫–æ—Ä–µ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–∏–∑–∞–π–Ω–∞, —á–µ–º –±–∞–≥. –í TON —Å–µ—Ç–∏ –º–∞–ª–æ stable/stable –ø—É–ª–æ–≤ —Å –≤—ã—Å–æ–∫–∏–º TVL.  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∫–æ–≥–¥–∞ –Ω–µ—Ç matching –ø—É–ª–æ–≤, –∏–ª–∏ —Å–º—è–≥—á–∏—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏–∏.  
**–°—Ç–∞—Ç—É—Å:** üìù –ò–ó–í–ï–°–¢–ù–û–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–ï

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ–¥—ë–Ω–Ω–æ–µ

1. ‚úÖ `--help` –¥–ª—è –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. ‚úÖ –ü—É—Å—Ç–æ–π wallets.enc –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. ‚úÖ –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω—É—é –æ—à–∏–±–∫—É
4. ‚úÖ DNS —Ä–µ–∑–æ–ª–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–æ–º–µ–Ω–æ–≤ (foundation.ton)
5. ‚úÖ Swap quote —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è TON ‚Üí USDT
6. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∞–¥—Ä–µ—Å–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç (raw –∏ friendly —Ñ–æ—Ä–º–∞—Ç—ã)
7. ‚úÖ Unit-—Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (118 —Ç–µ—Å—Ç–æ–≤)
8. ‚úÖ Tokens API (list, info, price-chart, holders, search) —Ä–∞–±–æ—Ç–∞–µ—Ç
9. ‚úÖ Yield pools API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
10. ‚úÖ NFT floor price –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–π (anon, usernames) —Ä–∞–±–æ—Ç–∞–µ—Ç
11. ‚úÖ Analytics (info, trust, compare) —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤–∞–ª–∏–¥–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤

---

## Changelog

**2026-02-13 (Backend Dev):**
- –°–æ–∑–¥–∞–Ω –¥–æ–∫—É–º–µ–Ω—Ç BUGS.md
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –±–∞–≥–∏ BUG-001, BUG-002, BUG-003, BUG-004, BUG-006, BUG-007

**2026-02-13 (QA Tester):**
- –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω BUG-008 (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π - –Ω–µ–≤–µ—Ä–Ω—ã–π –∞–¥—Ä–µ—Å STON)
- –î–æ–±–∞–≤–ª–µ–Ω BUG-009 (–∏–∑–≤–µ—Å—Ç–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)
- –°–æ–∑–¥–∞–Ω TEST-CASES.md —Å 56 —Ç–µ—Å—Ç-–∫–µ–π—Å–∞–º–∏
- Pass rate: 80%, 1 fail, 10 partial
